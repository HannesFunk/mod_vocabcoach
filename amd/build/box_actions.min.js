define("mod_vocabcoach/box_actions",["exports","core/notification"],(function(_exports,_notification){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(cmid,userid){document.addEventListener("click",(e=>{if(e.target.closest(Selectors_actions.forceCheck))checkBox(cmid,e.target.closest(Selectors_actions.checkBox),!0);else if(e.target.closest(Selectors_actions.showPdfUser)){const stage=e.target.closest(Selectors_actions.showPdfUser).getAttribute("data-stage");window.open("vocablist_pdf.php?userid="+userid+"&cmid="+cmid+"&stage="+stage)}else if(e.target.closest(Selectors_actions.viewBox)){const stage=e.target.closest(Selectors_actions.viewBox).getAttribute("data-stage");location.href="viewbox.php?id="+cmid+"&stage="+stage}else{if(e.target.closest(Selectors_elements.dropdown))return!1;e.target.closest(Selectors_actions.checkBox)?checkBox(cmid,e.target.closest(Selectors_actions.checkBox)):e.target.closest(Selectors_actions.addUserVocab)?location.href="add_vocab.php?id="+cmid+"&mode=user":e.target.closest(Selectors_actions.addList)?location.href="add_vocab.php?id="+cmid+"&mode=list":e.target.closest(Selectors_actions.showLists)&&(location.href="lists.php?id="+cmid)}}))},_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj};const Selectors_actions={checkBox:'[data-action="mod_vocabcoach/check_box"]',addUserVocab:'[data-action="mod_vocabcoach/add_vocab_user"]',addList:'[data-action="mod_vocabcoach/add_vocab_list"]',showLists:'[data-action="mod_vocabcoach/show_lists"]',forceCheck:'[data-action="mod_vocabcoach/force_check_all"]',showPdfUser:'[data-action="mod_vocabcoach/show_pdf_user"]',viewBox:'[data-action="mod_vocabcoach/view_box"]'},Selectors_elements={dropdown:".dropdown"};function checkBox(cmid,box){let force=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===parseInt(box.getAttribute("data-total"))){const msgData={type:"info",message:"In dieser Box sind zur Zeit keine Vokabeln enthalten."};_notification.default.addNotification(msgData).then(null)}else if(force&&parseInt(box.getAttribute("data-due"))>0)_notification.default.addNotification({type:"info",message:"Wiederhole zuerst die aktuell fälligen Vokabeln in dieser Box. Erst danach kannst du auch die anderen abfragen."}).then(null);else if(force||0!==parseInt(box.getAttribute("data-due"))){const stage=box.getAttribute("data-stage");location.href="check.php?id="+cmid+"&stage="+stage+"&force="+force}else{const msgData={type:"info",message:"In dieser Box hast du bereits alle Vokabeln gelernt. Die nächsten Vokabeln sind in "+box.getAttribute("data-next-due")+" fällig."};_notification.default.addNotification(msgData).then(null)}}}));

//# sourceMappingURL=box_actions.min.js.map